/* ------------------------------------------------------------------
 * Toast Notification (#197)
 *
 * Fade-in animation for toast messages.
 * ------------------------------------------------------------------ */

@keyframes toast-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.toast-fade-in {
  animation: toast-fade-in 200ms ease-out;
}

/* ------------------------------------------------------------------
 * Floating Selection Toolbar (#197)
 *
 * Scale-in animation for the text selection toolbar.
 * ------------------------------------------------------------------ */

@keyframes toolbar-scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.toolbar-scale-in {
  animation: toolbar-scale-in 150ms ease-out;
}

/* ------------------------------------------------------------------
 * Onboarding Tooltip Animations (#337)
 *
 * Entrance/exit animations for redesigned tooltips.
 * ------------------------------------------------------------------ */

@keyframes tooltip-enter {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes tooltip-exit {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

.tooltip-enter {
  animation: tooltip-enter 200ms ease-out;
}

.tooltip-exit {
  animation: tooltip-exit 150ms ease-in forwards;
}

/* ------------------------------------------------------------------
 * Feedback Sheet Animation (#338)
 *
 * Bottom sheet slides up from below viewport.
 * ------------------------------------------------------------------ */

@keyframes sheet-slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.sheet-slide-up {
  animation: sheet-slide-up 300ms ease-out;
}

/* ------------------------------------------------------------------
 * Feedback Sheet — Landscape Side Sheet (#367)
 *
 * Side sheet slides in from right edge on wide viewports.
 * ------------------------------------------------------------------ */

@keyframes sheet-slide-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.sheet-slide-right {
  animation: sheet-slide-right 300ms ease-out;
}

/* ------------------------------------------------------------------
 * Feedback Sheet Exit Animations (#377)
 *
 * Exit counterparts for sheet-slide-up and sheet-slide-right.
 * Used with useDelayedUnmount to keep DOM mounted during animation.
 * ------------------------------------------------------------------ */

@keyframes sheet-slide-down {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(100%);
    opacity: 0;
  }
}

.sheet-slide-down {
  animation: sheet-slide-down 200ms ease-in forwards;
}

@keyframes sheet-slide-right-out {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.sheet-slide-right-out {
  animation: sheet-slide-right-out 200ms ease-in forwards;
}

/* ------------------------------------------------------------------
 * Backdrop Fade-Out (#377)
 *
 * Shared exit animation for overlay backdrops.
 * ------------------------------------------------------------------ */

@keyframes backdrop-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.backdrop-fade-in {
  animation: sources-backdrop-fade-in 200ms ease-out;
}

.backdrop-fade-out {
  animation: backdrop-fade-out 200ms ease-in forwards;
}

/* ------------------------------------------------------------------
 * Skip Link (#330)
 *
 * Visually hidden link that appears on focus for keyboard users.
 * Positioned fixed at top-center, slides down when focused.
 * Uses --dc-color-interactive-primary for visual identity.
 * ------------------------------------------------------------------ */

.skip-link {
  position: fixed;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;
  padding: 12px 24px;
  background: var(--dc-color-interactive-primary);
  color: var(--dc-color-text-inverse);
  font-size: 14px;
  font-weight: 600;
  border-radius: var(--dc-radius-md);
  box-shadow: var(--dc-shadow-lg);
  text-decoration: none;
  transition: top var(--dc-motion-fast) var(--dc-motion-ease-out);
  white-space: nowrap;
}

.skip-link:focus {
  top: 12px;
  outline: 2px solid var(--dc-color-interactive-primary);
  outline-offset: 2px;
}

/* ------------------------------------------------------------------
 * Global Focus-Visible Styles (#330)
 *
 * Consistent focus ring using the --dc-color-interactive-primary
 * design token. Applied to all focusable elements when focused
 * via keyboard (focus-visible).
 * ------------------------------------------------------------------ */

:focus-visible {
  outline: 2px solid var(--dc-color-interactive-primary);
  outline-offset: 2px;
}

/* Remove default focus outline — only show on focus-visible */
:focus:not(:focus-visible) {
  outline: none;
}

/* Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .toast-fade-in {
    animation: none;
  }

  .toolbar-scale-in {
    animation: none;
  }

  .tooltip-enter {
    animation: none;
  }

  .tooltip-exit {
    animation: none;
  }

  .sheet-slide-up {
    animation: none;
  }

  .sheet-slide-right {
    animation: none;
  }

  .sheet-slide-down {
    animation: none;
  }

  .sheet-slide-right-out {
    animation: none;
  }

  .backdrop-fade-in {
    animation: none;
  }

  .backdrop-fade-out {
    animation: none;
  }
}
